<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo--插入图片(小白+防坑)</title>
    <url>/2020/07/30/Hexo--%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87(%E5%B0%8F%E7%99%BD+%E9%98%B2%E5%9D%91)/</url>
    <content><![CDATA[<h1 id="Hexo—插入图片（小白-防坑）"><a href="#Hexo—插入图片（小白-防坑）" class="headerlink" title="Hexo—插入图片（小白+防坑）"></a>Hexo—插入图片（小白+防坑）</h1><h2 id="一、具体流程"><a href="#一、具体流程" class="headerlink" title="一、具体流程"></a>一、具体流程</h2><ol>
<li><p>安装插件</p>
<ul>
<li>位置：博客根目录（和source、themes同层级的文件）</li>
<li>打开方式：直接cmd或者用git bash打开</li>
<li>命令（<strong>如果安装了淘宝镜像，则npm改成cnpm</strong>，下面有解释）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure>

</li>
</ol>
<ol start="2">
<li><p>修改配置文件</p>
<ul>
<li><p>文件：hexo根目录下的_config.xml</p>
</li>
<li><p>修改内容</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">post_asset_folder: <span class="keyword">true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>修改插件的配置文件</p>
<ul>
<li><p>文件位置：/node_modules/hexo-asset-image/index.js</p>
</li>
<li><p>修改内容</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> cheerio = <span class="built_in">require</span>(<span class="string">'cheerio'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-string</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPosition</span>(<span class="params">str, m, i</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.split(m, i).join(m).length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> version = <span class="built_in">String</span>(hexo.version).split(<span class="string">'.'</span>);</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = hexo.config;</span><br><span class="line">  <span class="keyword">if</span>(config.post_asset_folder)&#123;</span><br><span class="line">        <span class="keyword">var</span> link = data.permalink;</span><br><span class="line">    <span class="keyword">if</span>(version.length &gt; <span class="number">0</span> &amp;&amp; <span class="built_in">Number</span>(version[<span class="number">0</span>]) == <span class="number">3</span>)</span><br><span class="line">       <span class="keyword">var</span> beginPos = getPosition(link, <span class="string">'/'</span>, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">       <span class="keyword">var</span> beginPos = getPosition(link, <span class="string">'/'</span>, <span class="number">3</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// In hexo 3.1.1, the permalink of "about" page is like ".../about/index.html".</span></span><br><span class="line">    <span class="keyword">var</span> endPos = link.lastIndexOf(<span class="string">'/'</span>) + <span class="number">1</span>;</span><br><span class="line">    link = link.substring(beginPos, endPos);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> toprocess = [<span class="string">'excerpt'</span>, <span class="string">'more'</span>, <span class="string">'content'</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; toprocess.length; i++)&#123;</span><br><span class="line">      <span class="keyword">var</span> key = toprocess[i];</span><br><span class="line"> </span><br><span class="line">      <span class="keyword">var</span> $ = cheerio.load(data[key], &#123;</span><br><span class="line">        ignoreWhitespace: <span class="literal">false</span>,</span><br><span class="line">        xmlMode: <span class="literal">false</span>,</span><br><span class="line">        lowerCaseTags: <span class="literal">false</span>,</span><br><span class="line">        decodeEntities: <span class="literal">false</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      $(<span class="string">'img'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="keyword">this</span>).attr(<span class="string">'src'</span>))&#123;</span><br><span class="line">            <span class="comment">// For windows style path, we replace '\' to '/'.</span></span><br><span class="line">            <span class="keyword">var</span> src = $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>).replace(<span class="string">'\\'</span>, <span class="string">'/'</span>);</span><br><span class="line">            <span class="keyword">if</span>(!<span class="regexp">/http[s]*.*|\/\/.*/</span>.test(src) &amp;&amp;</span><br><span class="line">               !<span class="regexp">/^\s*\//</span>.test(src)) &#123;</span><br><span class="line">              <span class="comment">// For "about" page, the first part of "src" can't be removed.</span></span><br><span class="line">              <span class="comment">// In addition, to support multi-level local directory.</span></span><br><span class="line">              <span class="keyword">var</span> linkArray = link.split(<span class="string">'/'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> elem != <span class="string">''</span>;</span><br><span class="line">              &#125;);</span><br><span class="line">              <span class="keyword">var</span> srcArray = src.split(<span class="string">'/'</span>).filter(<span class="function"><span class="keyword">function</span>(<span class="params">elem</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> elem != <span class="string">''</span> &amp;&amp; elem != <span class="string">'.'</span>;</span><br><span class="line">              &#125;);</span><br><span class="line">              <span class="keyword">if</span>(srcArray.length &gt; <span class="number">1</span>)</span><br><span class="line">                srcArray.shift();</span><br><span class="line">              src = srcArray.join(<span class="string">'/'</span>);</span><br><span class="line">              $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>, config.root + link + src);</span><br><span class="line">              <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info(<span class="string">"update link as:--&gt;"</span>+config.root + link + src);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info(<span class="string">"no src attr, skipped..."</span>);</span><br><span class="line">            <span class="built_in">console</span>.info&amp;&amp;<span class="built_in">console</span>.info($(<span class="keyword">this</span>));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      data[key] = $.html();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<ol start="4">
<li><p>创建放图片的目录</p>
<ul>
<li><p>在source/_post文件夹下创建一个文件夹，名称和你写博客文章的名字<strong>一模一样</strong></p>
</li>
<li><p>将<strong>当前博客文章</strong>的图片放到此文件夹当中</p>
</li>
<li><p>截图</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/30/Hexo--%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87(%E5%B0%8F%E7%99%BD+%E9%98%B2%E5%9D%91)/image.png" alt></p>
</li>
</ul>
</li>
</ol>
<ol start="5">
<li><p>文章怎么插入图片（markdown（<strong>重点</strong>）方式）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">![](图片名称带后缀而非路径)</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="/2020/07/30/Hexo--%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87(%E5%B0%8F%E7%99%BD+%E9%98%B2%E5%9D%91)/image_01.png" alt></p>
</li>
<li><p>最后一步</p>
<ul>
<li><p>重新生成、启动hexo</p>
</li>
<li><p>将hexo部署到远端（github）</p>
</li>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<h2 id="二、踩过的坑"><a href="#二、踩过的坑" class="headerlink" title="二、踩过的坑"></a>二、踩过的坑</h2><ol>
<li><p>第一步安装插件报错</p>
</li>
<li><p>npm方式安装插件一直不动</p>
</li>
<li><p>上述两个的解决方法</p>
<ul>
<li><p>位置：还是在博客的根目录中</p>
</li>
<li><p>打开方式：cmd或者git bash</p>
</li>
<li><p>代码（相当于安装的淘宝镜像）</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https:<span class="comment">//registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<h2 id="三、参考链接"><a href="#三、参考链接" class="headerlink" title="三、参考链接"></a>三、参考链接</h2><ol>
<li><a href="https://bbs.huaweicloud.com/blogs/141925" target="_blank" rel="noopener">https://bbs.huaweicloud.com/blogs/141925</a></li>
<li><a href="https://www.jianshu.com/p/f72aaad7b852" target="_blank" rel="noopener">https://www.jianshu.com/p/f72aaad7b852</a></li>
<li>感谢大哥，感谢大佬！</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>HTMLCSS---定位</title>
    <url>/2020/07/25/HTMLCSS---%E5%AE%9A%E4%BD%8D/</url>
    <content><![CDATA[<h1 id="HTML-CSS—定位"><a href="#HTML-CSS—定位" class="headerlink" title="HTML/CSS—定位"></a>HTML/CSS—定位</h1><h2 id="一、绝对定位"><a href="#一、绝对定位" class="headerlink" title="一、绝对定位"></a>一、绝对定位</h2><ol>
<li><p>定义</p>
<ul>
<li>相对于父容器移动相应的位置，即<strong>参考对象是父容器</strong>。如果没有父容器，则一直向外找，直到最后的浏览器本身。父容器本身必须有position:relative</li>
<li>自身<strong>原来的位置不保留</strong>，会被下面的元素占据</li>
</ul>
</li>
<li><p>格式</p>
<ul>
<li>position:absolute</li>
</ul>
</li>
<li><p>属性</p>
<ul>
<li>top、bottom、left、right</li>
</ul>
</li>
<li><p>案例</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">			<span class="selector-class">.outer</span>&#123;</span></span><br><span class="line">				margin: 0 auto;</span><br><span class="line">				width: 500px;</span><br><span class="line">				height: 500px;</span><br><span class="line">				border: 1px solid red;</span><br><span class="line">				position: relative;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.outer</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line">				width: 100px;</span><br><span class="line">				height: 100px;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.inner_01</span>&#123;</span></span><br><span class="line">				background: red;</span><br><span class="line">				position: absolute;</span><br><span class="line">				top: 50px;</span><br><span class="line">				left: 50px;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.inner_02</span>&#123;</span></span><br><span class="line">				background: blue;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner_01"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner_02"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="/2020/07/25/HTMLCSS---%E5%AE%9A%E4%BD%8D/absolute.png" alt="absolute"></p>
</li>
</ol>
<h2 id="二、相对定位"><a href="#二、相对定位" class="headerlink" title="二、相对定位"></a>二、相对定位</h2><ol>
<li><p>定义</p>
<ul>
<li><p>相对于自身来进行定位，即<strong>参考对象是自身</strong></p>
</li>
<li><p>自身<strong>位置保留</strong>，下面元素不会占据自己的原有位置</p>
</li>
</ul>
</li>
<li><p>格式</p>
<ul>
<li>position:relative</li>
</ul>
</li>
<li><p>属性</p>
<ul>
<li>top、bottom、left、right</li>
</ul>
</li>
<li><p>案例</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">			<span class="selector-class">.outer</span>&#123;</span></span><br><span class="line">				margin: 0 auto;</span><br><span class="line">				width: 500px;</span><br><span class="line">				height: 500px;</span><br><span class="line">				border: 1px solid red;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.outer</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line">				width: 100px;</span><br><span class="line">				height: 100px;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.inner_01</span>&#123;</span></span><br><span class="line">				background: red;</span><br><span class="line">				position: relative;</span><br><span class="line">				top: 50px;</span><br><span class="line">				left: 50px;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.inner_02</span>&#123;</span></span><br><span class="line">				background: blue;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner_01"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner_02"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="/2020/07/25/HTMLCSS---%E5%AE%9A%E4%BD%8D/relative.png" alt="relative"></p>
</li>
</ol>
<h2 id="三、浮动定位"><a href="#三、浮动定位" class="headerlink" title="三、浮动定位"></a>三、浮动定位</h2><ol>
<li><p>定义</p>
<ul>
<li>相对于浏览器移动，即<strong>参考对象是浏览器</strong></li>
<li>本身<strong>位置不保留</strong>，会被下面元素占据自身位置</li>
</ul>
</li>
<li><p>格式</p>
<ul>
<li>position:fixed</li>
</ul>
</li>
<li><p>属性</p>
<ul>
<li>top、bottom、left、right</li>
</ul>
</li>
<li><p>用途</p>
<ul>
<li>锚点</li>
</ul>
</li>
<li><p>案例</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css">			<span class="selector-class">.outer</span>&#123;</span></span><br><span class="line">				margin: 0 auto;</span><br><span class="line">				width: 500px;</span><br><span class="line">				height: 500px;</span><br><span class="line">				border: 1px solid red;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.outer</span> <span class="selector-tag">div</span>&#123;</span></span><br><span class="line">				width: 100px;</span><br><span class="line">				height: 100px;</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.inner_01</span>&#123;</span></span><br><span class="line">				background: red;</span><br><span class="line">				position: relative;</span><br><span class="line">				top: 50px;</span><br><span class="line">				left: 50px;</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line"><span class="css">			<span class="selector-class">.inner_02</span>&#123;</span></span><br><span class="line">				background: blue;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner_01"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner_02"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="/2020/07/25/HTMLCSS---%E5%AE%9A%E4%BD%8D/fixed.png" alt="fixed"></p>
</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>Hexo--部署到gitee(码云)</title>
    <url>/2020/07/31/Hexo--%E9%83%A8%E7%BD%B2%E5%88%B0gitee(%E7%A0%81%E4%BA%91)/</url>
    <content><![CDATA[<h1 id="Hexo–部署到gitee-码云"><a href="#Hexo–部署到gitee-码云" class="headerlink" title="Hexo–部署到gitee(码云)"></a>Hexo–部署到gitee(码云)</h1><h2 id="一、使用前提"><a href="#一、使用前提" class="headerlink" title="一、使用前提"></a>一、使用前提</h2><ul>
<li>当前针对<strong>已经安装好hexo</strong>，并且部署到github上了，没部署到github上也可以</li>
<li>针对上一个可以看我博客主页，有一个<strong>Hexo搭建个人博客到github（小白+无坑版）</strong>查看即可</li>
</ul>
<h2 id="二、具体流程"><a href="#二、具体流程" class="headerlink" title="二、具体流程"></a>二、具体流程</h2><ol>
<li><p>注册登录码云</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">码云官网：https:<span class="comment">//gitee.com/</span></span><br></pre></td></tr></table></figure>

<ul>
<li>建议用邮箱注册，以后都用一个邮箱注册其他东西</li>
</ul>
</li>
<li><p>新建仓库，复制链接</p>
<ul>
<li><p>加号==》新建仓库</p>
</li>
<li><p>图片演示</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/31/Hexo--%E9%83%A8%E7%BD%B2%E5%88%B0gitee(%E7%A0%81%E4%BA%91)/image_01.png" alt></p>
<p><img src= "/img/loading.gif" data-src="/2020/07/31/Hexo--%E9%83%A8%E7%BD%B2%E5%88%B0gitee(%E7%A0%81%E4%BA%91)/image_02.png" alt></p>
</li>
</ul>
</li>
<li><p>修改配置文件</p>
<ul>
<li><p>文件位置：hexo<strong>根目录下的_config.yml</strong>文件</p>
</li>
<li><p>修改配置</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/31/Hexo--%E9%83%A8%E7%BD%B2%E5%88%B0gitee(%E7%A0%81%E4%BA%91)/image_03.png" alt></p>
</li>
</ul>
</li>
<li><p>部署命令</p>
<ul>
<li><p>打开博客根目录，在文件路径上直接cmd，也可以用git bash写（在根目录右键选择 git bash）</p>
</li>
<li><p>命令</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//如果安装了淘宝镜像直接吧npm缓称cnpm</span></span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>
</li>
<li><p>输入完之后会让让你输入gitee的账号密码，直接输入即可</p>
</li>
</ul>
</li>
<li><p>部署到码云的免费静态页面托管服务—Pages</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/31/Hexo--%E9%83%A8%E7%BD%B2%E5%88%B0gitee(%E7%A0%81%E4%BA%91)/image_04.png" alt></p>
</li>
</ol>
<h2 id="三、踩过的坑"><a href="#三、踩过的坑" class="headerlink" title="三、踩过的坑"></a>三、踩过的坑</h2><ol>
<li><p>一直部署不上去</p>
<ul>
<li>可能没有写 npm install hexo-deployer-git –save</li>
</ul>
</li>
<li><p>如果配到其他问题，可以参考以下截图，试试</p>
<p><img src= "/img/loading.gif" data-src="/2020/07/31/Hexo--%E9%83%A8%E7%BD%B2%E5%88%B0gitee(%E7%A0%81%E4%BA%91)/image_05.png" alt></p>
</li>
</ol>
<h2 id="四、参考文献"><a href="#四、参考文献" class="headerlink" title="四、参考文献"></a>四、参考文献</h2><ul>
<li>感谢大哥</li>
<li><a href="https://my.oschina.net/ruowu/blog/1492038" target="_blank" rel="noopener">https://my.oschina.net/ruowu/blog/1492038</a></li>
</ul>
<h2 id="五、干就完事了"><a href="#五、干就完事了" class="headerlink" title="五、干就完事了"></a>五、干就完事了</h2>]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/07/25/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>Hexo搭建个人博客到github（小白+无坑版）</title>
    <url>/2020/08/05/Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E5%88%B0github%EF%BC%88%E5%B0%8F%E7%99%BD+%E6%97%A0%E5%9D%91%E7%89%88%EF%BC%89/</url>
    <content><![CDATA[<h1 id="Hexo搭建个人博客到github（小白-无坑版）"><a href="#Hexo搭建个人博客到github（小白-无坑版）" class="headerlink" title="Hexo搭建个人博客到github（小白+无坑版）"></a>Hexo搭建个人博客到github（小白+无坑版）</h1><h2 id="一、使用前提"><a href="#一、使用前提" class="headerlink" title="一、使用前提"></a>一、使用前提</h2><ol>
<li>windows系统（Linux也可，但是得会有Linux命名）</li>
<li>干就完事了</li>
</ol>
<h2 id="二、搭建流程"><a href="#二、搭建流程" class="headerlink" title="二、搭建流程"></a>二、搭建流程</h2><h3 id="1、环境搭建"><a href="#1、环境搭建" class="headerlink" title="1、环境搭建"></a>1、环境搭建</h3><ol>
<li><p>node.js的安装</p>
<ul>
<li><p>目的：有包管理器，方便操作</p>
</li>
<li><p>安装步骤</p>
<ul>
<li><p>官网：<a href="http://nodejs.cn/" target="_blank" rel="noopener">http://nodejs.cn/</a></p>
</li>
<li><p>操作</p>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li>检查</li>
</ul>
<ol start="2">
<li><p>淘宝镜像的安装</p>
</li>
<li><p>git的安装</p>
</li>
</ol>
<h3 id="2、hexo搭建"><a href="#2、hexo搭建" class="headerlink" title="2、hexo搭建"></a>2、hexo搭建</h3><h3 id="3、部署到github"><a href="#3、部署到github" class="headerlink" title="3、部署到github"></a>3、部署到github</h3><h2 id="三、感谢大佬"><a href="#三、感谢大佬" class="headerlink" title="三、感谢大佬"></a>三、感谢大佬</h2>]]></content>
  </entry>
  <entry>
    <title>weChat</title>
    <url>/2020/08/30/weChat/</url>
    <content><![CDATA[<h1 id="一、云开发"><a href="#一、云开发" class="headerlink" title="一、云开发"></a>一、云开发</h1><h2 id="1、云开发初始化—yun0813"><a href="#1、云开发初始化—yun0813" class="headerlink" title="1、云开发初始化—yun0813"></a>1、云开发初始化—yun0813</h2><h3 id="1-开通云开发"><a href="#1-开通云开发" class="headerlink" title="(1) 开通云开发"></a>(1) 开通云开发</h3><ul>
<li>界面==》云开发==》开通</li>
</ul>
<h3 id="2-创建云目录"><a href="#2-创建云目录" class="headerlink" title="(2) 创建云目录"></a>(2) 创建云目录</h3><ul>
<li><p>project.config.json文件中添加配置(description的下面) <strong>带“/”</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">"cloudfunctionRoot": "/cloud"</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建目录</p>
<ul>
<li>+==》目录==》cloud</li>
</ul>
<p><img src= "/img/loading.gif" data-src="/2020/08/30/weChat/image_01.png" alt></p>
</li>
</ul>
<h3 id="3-配置云开发环境初始化"><a href="#3-配置云开发环境初始化" class="headerlink" title="(3) 配置云开发环境初始化"></a>(3) 配置云开发环境初始化</h3><ul>
<li><p>位置：app.js</p>
</li>
<li><p>配置代码</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 云开发初始化</span></span><br><span class="line">    wx.cloud.init(&#123;</span><br><span class="line">      env:<span class="string">"codemao-7hcrz"</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="/2020/08/30/weChat/image_02.png" alt></p>
</li>
</ul>
<h2 id="2、云数据库的增删改查—yun0609"><a href="#2、云数据库的增删改查—yun0609" class="headerlink" title="2、云数据库的增删改查—yun0609"></a>2、云数据库的增删改查—yun0609</h2><h3 id="1-云开发初始化"><a href="#1-云开发初始化" class="headerlink" title="(1) 云开发初始化"></a>(1) 云开发初始化</h3><h3 id="2-增、删、改、查"><a href="#2-增、删、改、查" class="headerlink" title="(2) 增、删、改、查"></a>(2) 增、删、改、查</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- 添加注释 --&gt;</span><br><span class="line">&lt;input placeholder&#x3D;&quot;输入名字&quot; bindinput&#x3D;&quot;addName&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">&lt;input placeholder&#x3D;&quot;输入年龄&quot; bindinput&#x3D;&quot;addAge&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">&lt;button bindtap &#x3D; &quot;addData&quot; type&#x3D;&quot;primary&quot;&gt;添加数据&lt;&#x2F;button&gt;</span><br><span class="line">&lt;button bindtap &#x3D; &quot;getData&quot; type&#x3D;&quot;primary&quot;&gt;查询数据&lt;&#x2F;button&gt;</span><br><span class="line">&lt;!-- 删除数据 --&gt;</span><br><span class="line">&lt;input placeholder&#x3D;&quot;请输入要输入的ID&quot; bindinput&#x3D;&quot;delDataInput&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">&lt;button bindtap &#x3D; &quot;delData&quot; type&#x3D;&quot;primary&quot;&gt;删除数据&lt;&#x2F;button&gt;</span><br><span class="line">&lt;!-- 更新数据 --&gt;</span><br><span class="line">&lt;input placeholder&#x3D;&quot;请输入想要更新的ID&quot; bindinput&#x3D;&quot;udpDataInput&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">&lt;input placeholder&#x3D;&quot;请输入更新的年龄&quot; bindinput&#x3D;&quot;udpAge&quot;&gt;&lt;&#x2F;input&gt; </span><br><span class="line">&lt;button bindtap &#x3D; &quot;udpData&quot; type&#x3D;&quot;primary&quot;&gt;更新数据&lt;&#x2F;button&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> DB = wx.cloud.database().collection(<span class="string">"list"</span>)</span><br><span class="line"><span class="keyword">let</span> name = <span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> id = <span class="string">""</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  <span class="comment">// 获取用户输入的name</span></span><br><span class="line">  addName(event)&#123;</span><br><span class="line">    name = event.detail.value;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取用户输入的age</span></span><br><span class="line">  addAge(event) &#123;</span><br><span class="line">    age = event.detail.value;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 要删除的ID</span></span><br><span class="line">  delDataInput(event)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"要删除的id"</span>,event.detail.value)</span><br><span class="line">    id = event.detail.value</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 要更新的ID</span></span><br><span class="line">  udpDataInput(event) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"要删除的id"</span>, event.detail.value)</span><br><span class="line">    id = event.detail.value</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 要更新的年龄</span></span><br><span class="line">  udpAge(event) &#123;</span><br><span class="line">    age = event.detail.value;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 添加数据</span></span><br><span class="line">  addData()&#123;</span><br><span class="line">    DB.add(&#123;</span><br><span class="line">      data:&#123;</span><br><span class="line">        name: name,</span><br><span class="line">        age: age</span><br><span class="line">      &#125;,</span><br><span class="line">      success(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"添加成功"</span>,res)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"添加失败"</span>,res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 删除数据</span></span><br><span class="line">  delData() &#123;</span><br><span class="line">    DB.doc(id).remove(&#123;</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"删除成功"</span>, res)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"删除数据失败"</span>, res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 查询数据</span></span><br><span class="line">  getData()&#123;</span><br><span class="line">    DB.get(&#123;</span><br><span class="line">      success(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"查询数据成功"</span>, res)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"查询数据失败"</span>, res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  udpData()&#123;</span><br><span class="line">    DB.doc(id).update(&#123;</span><br><span class="line">      data: &#123;</span><br><span class="line">        age: age</span><br><span class="line">      &#125;,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"更新成功"</span>, res)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"更新失败"</span>, res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3-直接获取云数据库的缺点"><a href="#3-直接获取云数据库的缺点" class="headerlink" title="(3) 直接获取云数据库的缺点"></a>(3) 直接获取云数据库的缺点</h3><ol>
<li><p>会受到权限的限制，只能获取自己用直接添加的数据，不能获取到手动添加的数据</p>
</li>
<li><p>怎么解决？</p>
<ul>
<li><p>点击 云开发==》数据库-==》表名称==》权限设置改成第一个，所有用户可读写</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/30/weChat/image_03.png" alt></p>
</li>
</ul>
</li>
</ol>
<h2 id="3、云函数—yun0908"><a href="#3、云函数—yun0908" class="headerlink" title="3、云函数—yun0908"></a>3、云函数—yun0908</h2><h3 id="1-计算求和的云函数"><a href="#1-计算求和的云函数" class="headerlink" title="(1) 计算求和的云函数"></a>(1) 计算求和的云函数</h3><ul>
<li><p>云函数初始化</p>
</li>
<li><p>创建云文件夹</p>
<ul>
<li><p>+==》目录==》cloud</p>
</li>
<li><p>配置project.config.json文件中添加配置(description的下面) <strong>带“/”</strong></p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">"cloudfunctionRoot": "/cloud"</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>创建云函数（add）</p>
<ul>
<li>右键cloud==》新建node.js云函数</li>
</ul>
</li>
<li><p>编写云函数</p>
<ul>
<li><p>书写代码—add/index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 云函数入口文件</span></span><br><span class="line"><span class="keyword">const</span> cloud = <span class="built_in">require</span>(<span class="string">'wx-server-sdk'</span>)</span><br><span class="line"></span><br><span class="line">cloud.init()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 云函数入口函数</span></span><br><span class="line">exports.main = <span class="keyword">async</span> (event, context) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> a = event.a;</span><br><span class="line">  <span class="keyword">let</span> b = event.b;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>上传云函数</p>
<ul>
<li>右键add==&gt;上传并部署云函数依赖不上传node…</li>
</ul>
</li>
</ul>
</li>
<li><p>调用云函数 wx.cloud.callFunction({})</p>
<ul>
<li><p>pages/index/index.wxml</p>
</li>
<li><p>pages/index/index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"qiuhe"</span>&gt;云函数获取加法&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/index.js</span></span><br><span class="line"><span class="regexp">Page(&#123;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 第一个云函数</span></span><br><span class="line"><span class="regexp">  qiuhe()&#123;</span></span><br><span class="line"><span class="regexp">    wx.cloud.callFunction(&#123;</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ 云函数的名称</span></span><br><span class="line"><span class="regexp">      name:"add",</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ 和云函数接受的数据保持一致</span></span><br><span class="line"><span class="regexp">      data:&#123;</span></span><br><span class="line"><span class="regexp">        a: 9,</span></span><br><span class="line"><span class="regexp">        b: 3</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      success(res)&#123;</span></span><br><span class="line"><span class="regexp">        console.log("请求成功",res)</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      fail(res)&#123;</span></span><br><span class="line"><span class="regexp">        console.log("请求失败",res)</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<h3 id="2-获取小程序用户的openid"><a href="#2-获取小程序用户的openid" class="headerlink" title="(2) 获取小程序用户的openid"></a>(2) 获取小程序用户的openid</h3><ol>
<li><p>云函数初始化</p>
</li>
<li><p>新建云函数文件并配置json文件</p>
</li>
<li><p>新建node.js函数—默认就是获取用户openid</p>
<ul>
<li>右键cloud==》新建node.js文件==》取名叫getopenid</li>
</ul>
</li>
<li><p>调用云函数文件wx.cloud.callFunction</p>
<ul>
<li>位置：pages/index/index.js+index.wxml</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;index.wxml</span><br><span class="line">&lt;button bindtap&#x3D;&quot;getOpenId&quot;&gt;获取用户openid&lt;&#x2F;button&gt;</span><br><span class="line">&#x2F;&#x2F;index.js</span><br><span class="line">Page(&#123;</span><br><span class="line">  &#x2F;&#x2F; 获取用户openid</span><br><span class="line">  getOpenId()&#123;</span><br><span class="line">    wx.cloud.callFunction(&#123;</span><br><span class="line">      name:&quot;getopenid&quot;,</span><br><span class="line">      success(res)&#123;</span><br><span class="line">        console.log(&quot;获取openid成功&quot;,res.result.openid)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res)&#123;</span><br><span class="line">        console.log(&quot;获取openid失败&quot;,res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="5">
<li><p>获取openid的作用</p>
<ul>
<li>可以唯一标识用户</li>
</ul>
</li>
<li><p>唯一表示用户的方法</p>
<ul>
<li>用户的手机号</li>
<li>openid</li>
</ul>
</li>
</ol>
<h3 id="3-利用云函数获取数据库数据"><a href="#3-利用云函数获取数据库数据" class="headerlink" title="(3) 利用云函数获取数据库数据"></a>(3) 利用云函数获取数据库数据</h3><ol>
<li><p>为什么要用云函数获取数据那？</p>
<ul>
<li>云函数获取数据库数据可以突破20条的限制</li>
<li>云函数获取数据库不受数据库表的权限控制</li>
<li>云函数可以实现的功能更多</li>
</ul>
</li>
<li><p>云函数获取数据的具体流程</p>
<ul>
<li><p>云开发初始化+创建云开发文件并配置</p>
</li>
<li><p>新建云函数文件==》getshuju</p>
</li>
<li><p>编写云函数文件==》getshuju/index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 云函数入口文件</span></span><br><span class="line"><span class="keyword">const</span> cloud = <span class="built_in">require</span>(<span class="string">'wx-server-sdk'</span>)</span><br><span class="line"><span class="comment">// 如果报找不到资源的错误就在写一下环境ID</span></span><br><span class="line">cloud.init(&#123;</span><br><span class="line">  env: <span class="string">"codemao-7hcrz"</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 云函数入口函数</span></span><br><span class="line">exports.main = <span class="keyword">async</span> (event, context) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> cloud.database().collection(<span class="string">"users"</span>).get(&#123;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<pre><code>- 调用云函数文件==》pages/index/index.js

  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"yunhanshu"</span>&gt;云函数获取数据&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/index.js</span></span><br><span class="line"><span class="regexp">Page(&#123;</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 云函数获取数据</span></span><br><span class="line"><span class="regexp">  yunhanshu()&#123;</span></span><br><span class="line"><span class="regexp">    wx.cloud.callFunction(&#123;</span></span><br><span class="line"><span class="regexp">      name: "getshuju",</span></span><br><span class="line"><span class="regexp">      success(res)&#123;</span></span><br><span class="line"><span class="regexp">        console.log("云函数获取数据成功", res.result.data)</span></span><br><span class="line"><span class="regexp">      &#125;,</span></span><br><span class="line"><span class="regexp">      fail(res)&#123;</span></span><br><span class="line"><span class="regexp">        console.log("云函数获取数据失败",res)</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br></pre></td></tr></table></figure></code></pre><h2 id="4、云存储—test1013"><a href="#4、云存储—test1013" class="headerlink" title="4、云存储—test1013"></a>4、云存储—test1013</h2><h3 id="1-作用"><a href="#1-作用" class="headerlink" title="(1) 作用"></a>(1) 作用</h3><pre><code>1. 存储各种文件，并下载</code></pre><h3 id="2-选择并上传到云存储图片并展示"><a href="#2-选择并上传到云存储图片并展示" class="headerlink" title="(2) 选择并上传到云存储图片并展示"></a>(2) 选择并上传到云存储图片并展示</h3><ol>
<li><p>配置云开发环境(init)</p>
</li>
<li><p>选择图片page/index/index.wxml+index.js</p>
<ul>
<li><p>wxml</p>
</li>
<li><p>js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"upload"</span>&gt;上传图片&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;image src="&#123;&#123;imgUrl&#125;&#125;"&gt;&lt;/im</span>age&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    imgUrl: <span class="string">""</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 选择文件</span></span><br><span class="line">  upload()&#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="comment">// 官方文档  API==》媒体==》图片==》chooseimage 复制的</span></span><br><span class="line">    <span class="comment">//https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.chooseImage.html</span></span><br><span class="line">    wx.chooseImage(&#123;</span><br><span class="line">      count: <span class="number">1</span>,</span><br><span class="line">      sizeType: [<span class="string">'original'</span>, <span class="string">'compressed'</span>],</span><br><span class="line">      sourceType: [<span class="string">'album'</span>, <span class="string">'camera'</span>],</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"选择成功"</span>, res)</span><br><span class="line">        that.uploadImg(res.tempFilePaths[<span class="number">0</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 上传图片</span></span><br><span class="line">  uploadImg(fileUrl)&#123;</span><br><span class="line">    <span class="comment">// 官方文档==》云开发==》存储==》API</span></span><br><span class="line">    <span class="comment">// https://developers.weixin.qq.com/miniprogram/dev/wxcloud/guide/storage/api.html</span></span><br><span class="line">    wx.cloud.uploadFile(&#123;</span><br><span class="line">      <span class="comment">// js获取时间戳</span></span><br><span class="line">      cloudPath: <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() + <span class="string">'codemao.png'</span>, <span class="comment">// 上传至云端的路径</span></span><br><span class="line">      filePath: fileUrl, <span class="comment">// 小程序临时文件路径</span></span><br><span class="line">      success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 返回文件 ID</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"上传成功"</span>,res.fileID)</span><br><span class="line">        <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">          imgUrl: res.fileID</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="built_in">console</span>.error</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<h3 id="3-选择视频并上传到云储存"><a href="#3-选择视频并上传到云储存" class="headerlink" title="(3) 选择视频并上传到云储存"></a>(3) 选择视频并上传到云储存</h3><ol>
<li><p>云开发环境初始化</p>
</li>
<li><p>选择视频并上传到云存储</p>
</li>
<li><p>展示图片</p>
<ul>
<li><p>wxml和js==&gt;page/index/index.wxml+index.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"uploadVideo"</span>&gt;上传视频&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;video src="&#123;&#123;videoUrl&#125;&#125;" controls="false"&gt;&lt;/</span>video&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    videoUrl: <span class="string">"cloud://codemao-7hcrz.636f-codemao-7hcrz-1301171692/视频.mp4"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  uploadVideo()&#123;</span><br><span class="line">    <span class="comment">// 官方文档==》API==&gt;媒体==》视频</span></span><br><span class="line">    <span class="comment">// https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.chooseVideo.html</span></span><br><span class="line">    wx.chooseVideo(&#123;</span><br><span class="line">      sourceType: [<span class="string">'album'</span>, <span class="string">'camera'</span>],</span><br><span class="line">      maxDuration: <span class="number">60</span>,<span class="comment">//视频时长 s</span></span><br><span class="line">      camera: <span class="string">'back'</span>,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"选择视频成功"</span>, res.tempFilePath)</span><br><span class="line">        wx.cloud.uploadFile(&#123;</span><br><span class="line">          <span class="comment">// js获取时间戳</span></span><br><span class="line">          cloudPath: <span class="string">'视频.mp4'</span>, <span class="comment">// 上传至云端的路径</span></span><br><span class="line">          filePath: res.tempFilePath, <span class="comment">// 小程序临时文件路径</span></span><br><span class="line">          success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 返回文件 ID</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"上传视频成功"</span>, res.fileID)</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: <span class="built_in">console</span>.error</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="4、选择文件（excel）上传到云存储并打开"><a href="#4、选择文件（excel）上传到云存储并打开" class="headerlink" title="4、选择文件（excel）上传到云存储并打开"></a>4、选择文件（excel）上传到云存储并打开</h3><ol>
<li><p>初始化云函数</p>
</li>
<li><p>选择文件并上传到云存储</p>
</li>
<li><p>展示图片</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"uploadExcel"</span>&gt;上传excel文件&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;button bindtap="openExcel"&gt;下载并打开excel文件&lt;/</span>button&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  <span class="comment">// 下载并打开excel文件</span></span><br><span class="line">  openExcel()&#123;</span><br><span class="line">    <span class="comment">// 官方文档==》云开发==》存储==》API==&gt;downLoad</span></span><br><span class="line">    wx.cloud.downloadFile(&#123;</span><br><span class="line">      fileID: <span class="string">'cloud://codemao-7hcrz.636f-codemao-7hcrz-1301171692/aaa.xlsx'</span>, <span class="comment">// 文件 ID</span></span><br><span class="line">      success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 返回临时文件路径</span></span><br><span class="line">        <span class="built_in">console</span>.log(res.tempFilePath)</span><br><span class="line">        <span class="comment">// 打开文件</span></span><br><span class="line">        <span class="comment">//https://developers.weixin.qq.com/miniprogram/dev/api/file/wx.openDocument.html</span></span><br><span class="line">        wx.openDocument(&#123;</span><br><span class="line">          filePath: res.tempFilePath,</span><br><span class="line">          success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'打开文档成功'</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="built_in">console</span>.error</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 上传excel文件</span></span><br><span class="line">  uploadExcel()&#123;</span><br><span class="line">    <span class="comment">// 官方文档==》API==》图片==》chooseMessageFile...</span></span><br><span class="line">    <span class="comment">//https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.chooseMessageFile.html</span></span><br><span class="line">    <span class="comment">// 上传所有文件 例如 excel，word等等</span></span><br><span class="line">    wx.chooseMessageFile(&#123;</span><br><span class="line">     </span><br><span class="line">      count: <span class="number">1</span>,</span><br><span class="line">      type: <span class="string">'all'</span>,</span><br><span class="line">      success(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"选择文件成功"</span>, res)</span><br><span class="line">        <span class="comment">// tempFilePath可以作为img标签的src属性显示图片</span></span><br><span class="line">        <span class="keyword">const</span> tempFilePaths = res.tempFiles[<span class="number">0</span>].path</span><br><span class="line">        wx.cloud.uploadFile(&#123;</span><br><span class="line">          cloudPath: <span class="string">'aaa.xlsx'</span>, <span class="comment">// 上传至云端的路径</span></span><br><span class="line">          filePath: tempFilePaths, <span class="comment">// 小程序临时文件路径</span></span><br><span class="line">          success: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// 返回文件 ID</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"上传文件成功"</span>, res.fileID)</span><br><span class="line">          &#125;,</span><br><span class="line">          fail: <span class="built_in">console</span>.error</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
</li>
</ul>
</li>
</ol>
<h2 id="5、列表展示—yun1112"><a href="#5、列表展示—yun1112" class="headerlink" title="5、列表展示—yun1112"></a>5、列表展示—yun1112</h2><h3 id="1-直接通过数据库获取数据的局限性-》page-index"><a href="#1-直接通过数据库获取数据的局限性-》page-index" class="headerlink" title="(1)  直接通过数据库获取数据的局限性==》page/index"></a>(1)  直接通过数据库获取数据的局限性==》page/index</h3><ol>
<li><p>获取数据库数据</p>
<ul>
<li>集合的名称是userlist</li>
</ul>
</li>
<li><p><strong>展示页面</strong>==》wx:for  item.age</p>
</li>
<li><p>缺点</p>
<ul>
<li>只能获取20条数据</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"getData"</span>&gt;获取云数据库数据&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;view wx:for="&#123;&#123;dataList&#125;&#125;"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;view class="itemRoot"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;view&gt;&#123;&#123;item.name&#125;&#125;&lt;/</span>view&gt;</span><br><span class="line">    &lt;view&gt;&#123;&#123;item._id&#125;&#125;&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">    &lt;view&gt;&#123;&#123;item.address&#125;&#125;&lt;/</span>view&gt;</span><br><span class="line">  &lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>view&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.wxss</span></span><br><span class="line">.itemRoot&#123;</span><br><span class="line">  background: gainsboro;</span><br><span class="line">  border: <span class="number">1</span>px solid red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    dataList:[]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取云数据库数据</span></span><br><span class="line">  getData(res)&#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    wx.cloud.database().collection(<span class="string">"userlist"</span>).get(&#123;</span><br><span class="line">      success(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"获取数据成功"</span>,res)</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          dataList: res.data</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"获取数据失败"</span>,res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="2-通过云函数获取数据库数据的局限性-gt-page-yun"><a href="#2-通过云函数获取数据库数据的局限性-gt-page-yun" class="headerlink" title="(2) 通过云函数获取数据库数据的局限性==&gt;page/yun"></a>(2) 通过云函数获取数据库数据的局限性==&gt;page/yun</h3><ol>
<li><p>获取数据库数据</p>
<ul>
<li>云函数的名称是getList</li>
<li>集合的名称是userlist</li>
</ul>
</li>
<li><p><strong>展示页面</strong></p>
</li>
<li><p>缺点</p>
<ul>
<li>只能获取100条数据</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//yun.wxml</span></span><br><span class="line">&lt;button bindtap=<span class="string">"getData"</span>&gt;云函数获取云数据库数据&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;view wx:for="&#123;&#123;dataList&#125;&#125;" wx:key="item"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;view class="itemRoot"&gt;</span></span><br><span class="line"><span class="regexp">    &lt;view&gt;&#123;&#123;item.name&#125;&#125;&lt;/</span>view&gt;</span><br><span class="line">    &lt;view&gt;&#123;&#123;item._id&#125;&#125;&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">    &lt;view&gt;&#123;&#123;item.address&#125;&#125;&lt;/</span>view&gt;</span><br><span class="line">  &lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>view&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//yun.wxss</span></span><br><span class="line">.itemRoot&#123;</span><br><span class="line">  background: gainsboro;</span><br><span class="line">  border: <span class="number">1</span>px solid red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//yun.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    dataList: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取云数据库数据</span></span><br><span class="line">  getData(res) &#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    wx.cloud.callFunction(&#123;</span><br><span class="line">      name: <span class="string">"getList"</span>,</span><br><span class="line">      success(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"请求成功"</span>,res)</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          dataList: res.result.data</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"请求失败"</span>, res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//getList</span></span><br><span class="line"><span class="comment">// 云函数入口文件</span></span><br><span class="line"><span class="keyword">const</span> cloud = <span class="built_in">require</span>(<span class="string">'wx-server-sdk'</span>)</span><br><span class="line"></span><br><span class="line">cloud.init(&#123;</span><br><span class="line">  env: <span class="string">"codemao-7hcrz"</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 云函数入口函数</span></span><br><span class="line">exports.main = <span class="keyword">async</span> (event, context) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> cloud.database().collection(<span class="string">"userlist"</span>).get(&#123;</span><br><span class="line">    success(res)&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"云函数获取数据成功"</span>,res)</span><br><span class="line">    &#125;,</span><br><span class="line">    fail(res)&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"云函数获取数据失败"</span>,res)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="6、分页—分页"><a href="#6、分页—分页" class="headerlink" title="6、分页—分页"></a>6、分页—分页</h2><h3 id="1-核心"><a href="#1-核心" class="headerlink" title="(1) 核心"></a>(1) 核心</h3><ul>
<li>skip(数字)：从该数据之后开始显示</li>
<li>limit(数字)：限制多少数量</li>
<li>onReachBottom: function：页面上拉触发函数</li>
</ul>
<h3 id="2-实例"><a href="#2-实例" class="headerlink" title="(2) 实例"></a>(2) 实例</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//app.js</span></span><br><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.cloud.init(&#123;</span><br><span class="line">      env: <span class="string">"codemao-7hcrz"</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: &#123;</span><br><span class="line">    userInfo: <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;block wx:<span class="keyword">for</span>=<span class="string">"&#123;&#123;list&#125;&#125;"</span> wx:key=<span class="string">"index"</span>&gt;</span><br><span class="line">  &lt;view <span class="class"><span class="keyword">class</span></span>=<span class="string">"item"</span>&gt;&#123;&#123;item.num&#125;&#125;&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>block&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.wxss</span></span><br><span class="line">.item&#123;</span><br><span class="line">  border: <span class="number">1</span>px solid gainsboro;</span><br><span class="line">  height: <span class="number">80</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line"><span class="keyword">let</span> totalNum = <span class="number">-1</span>;</span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    list: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 加载数据</span></span><br><span class="line">  getDataList()&#123;</span><br><span class="line">    <span class="keyword">let</span> len = <span class="keyword">this</span>.data.list.length;</span><br><span class="line">    <span class="keyword">if</span> (totalNum == len)&#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'数据加载完毕'</span>,</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    wx.showLoading(&#123;</span><br><span class="line">      title: <span class="string">'加载中'</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">   </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"list的长度"</span>,len)</span><br><span class="line">    wx.cloud.database().collection(<span class="string">'list'</span>)</span><br><span class="line">    .skip(len)</span><br><span class="line">    .get()</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"获取成功"</span>, res)</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        list: <span class="keyword">this</span>.data.list.concat(res.data)</span><br><span class="line">      &#125;)</span><br><span class="line">      wx.hideLoading()</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"获取失败"</span>, res)</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'加载失败'</span>,</span><br><span class="line">        icon: none</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    wx.cloud.database().collection(<span class="string">'list'</span>).count()</span><br><span class="line">    .then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"数据总条数"</span>,res)</span><br><span class="line">      totalNum = res.total</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">this</span>.getDataList()</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onReady: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面显示</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onShow: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面隐藏</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onHide: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面卸载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onUnload: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onPullDownRefresh: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面上拉触底事件的处理函数</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onReachBottom: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.getDataList()</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 用户点击右上角分享</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onShareAppMessage: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="7、登录注册—login1204—user"><a href="#7、登录注册—login1204—user" class="headerlink" title="7、登录注册—login1204—user"></a>7、登录注册—login1204—user</h2><h3 id="1-注册—index"><a href="#1-注册—index" class="headerlink" title="(1) 注册—index"></a>(1) 注册—index</h3><ol>
<li><p>初始化云开发环境—wx.cloud.init</p>
</li>
<li><p>获取用户输入的信息—bindinput</p>
</li>
<li><p>添加校验—if</p>
</li>
<li><p>通过单击注册添加到数据库—bindtap</p>
</li>
<li><p>优化用户体验，增加友好的提示—wx.showToast</p>
</li>
<li><p>跳转到登录页面—wx.navigateTo({})</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">输入用户名</span><br><span class="line">&lt;input <span class="class"><span class="keyword">class</span></span>=<span class="string">"input"</span> bindinput=<span class="string">"getName"</span>&gt;&lt;<span class="regexp">/input&gt;</span></span><br><span class="line"><span class="regexp">输入用户账号</span></span><br><span class="line"><span class="regexp">&lt;input class="input" bindinput="getZhangHao"&gt;&lt;/i</span>nput&gt;</span><br><span class="line">输入您的密码</span><br><span class="line">&lt;input <span class="class"><span class="keyword">class</span></span>=<span class="string">"input"</span> bindinput=<span class="string">"getMiMa"</span>&gt;&lt;<span class="regexp">/input&gt;</span></span><br><span class="line"><span class="regexp">&lt;button bindtap="zhuCe" type = "primary"&gt;注册&lt;/</span>button&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.wxss</span></span><br><span class="line">.input&#123;</span><br><span class="line">  border: <span class="number">1</span>px solid gainsboro;</span><br><span class="line">  margin: <span class="number">15</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    name:<span class="string">""</span>,</span><br><span class="line">    zhangHao:<span class="string">""</span>,</span><br><span class="line">    miMa:<span class="string">""</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取用户名</span></span><br><span class="line">  getName(event)&#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      name: event.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取账号</span></span><br><span class="line">  getZhangHao(event) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      zhangHao: event.detail.value</span><br><span class="line">    &#125;)  </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 获取密码</span></span><br><span class="line">  getMiMa(event) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      miMa: event.detail.value</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 注册</span></span><br><span class="line">  zhuCe()&#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="keyword">this</span>.data.name;</span><br><span class="line">    <span class="keyword">let</span> zhangHao = <span class="keyword">this</span>.data.zhangHao;</span><br><span class="line">    <span class="keyword">let</span> miMa = <span class="keyword">this</span>.data.miMa;</span><br><span class="line">    <span class="comment">// 校验用户名</span></span><br><span class="line">    <span class="keyword">if</span>(name.length &lt; <span class="number">2</span>)&#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'用户名至少两位'</span>,</span><br><span class="line">        icon: <span class="string">'none'</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (name.length &gt; <span class="number">10</span>)&#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'用户名最多10位'</span>,</span><br><span class="line">        icon: <span class="string">'none'</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 校验账号</span></span><br><span class="line">    <span class="keyword">if</span> (zhangHao.length &lt; <span class="number">4</span>) &#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'账号至少四位'</span>,</span><br><span class="line">        icon: <span class="string">'none'</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 校验密码</span></span><br><span class="line">    <span class="keyword">if</span> (miMa.length &lt; <span class="number">4</span>)&#123;</span><br><span class="line">      wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'密码至少4位'</span>,</span><br><span class="line">        icon: <span class="string">'none'</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 注册功能的实现</span></span><br><span class="line">    wx.cloud.database().collection(<span class="string">"user"</span>).add(&#123;</span><br><span class="line">      data:&#123;</span><br><span class="line">        name: name,</span><br><span class="line">        zhanghao: zhangHao,</span><br><span class="line">        mima: miMa</span><br><span class="line">      &#125;,</span><br><span class="line">      success(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"添加成功"</span>,res)</span><br><span class="line">        wx.showToast(&#123;</span><br><span class="line">          title: <span class="string">'注册成功'</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">        wx.navigateTo(&#123;</span><br><span class="line">          url: <span class="string">'../login/login'</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;,</span><br><span class="line">      fail(res)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"添加失败"</span>,res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.cloud.init(&#123;</span><br><span class="line">      env: <span class="string">"codemao-7hcrz"</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: &#123;</span><br><span class="line">    userInfo: <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="2-登录—login"><a href="#2-登录—login" class="headerlink" title="(2) 登录—login"></a>(2) 登录—login</h3><ol>
<li><p>更改头部文件</p>
</li>
<li><p>初始化云开发环境—wx.cloud.init</p>
</li>
<li><p>获取用户输入的数据—bindinput</p>
</li>
<li><p>首次校验格式（非数据库）—if</p>
</li>
<li><p>二次校验格式（数据库）—wx.cloud.database().collection(“user”).where({zhanghao:zhanghao}).get({})</p>
</li>
<li><p>添加友好的提示（成功和失败）—wx.showToast({})</p>
</li>
<li><p>跳转到<strong>首页并传值</strong>—wx.navigateTo({url:”../home/home?name”+user.name})</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//login.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"usingComponents"</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">"navigationBarTitleText"</span>: <span class="string">"登录"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  onLaunch: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    wx.cloud.init(&#123;</span><br><span class="line">      env: <span class="string">"codemao-7hcrz"</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  globalData: &#123;</span><br><span class="line">    userInfo: <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//login.wxml</span></span><br><span class="line">输入账号</span><br><span class="line">&lt;input <span class="class"><span class="keyword">class</span></span>=<span class="string">"input"</span> bindinput=<span class="string">"getZhangHao"</span>&gt;&lt;<span class="regexp">/input&gt;</span></span><br><span class="line"><span class="regexp">输入密码</span></span><br><span class="line"><span class="regexp">&lt;input class="input" password="true" bindinput="getMiMa"&gt;&lt;/i</span>nput&gt;</span><br><span class="line">&lt;button type=<span class="string">"primary"</span> bindtap=<span class="string">"login"</span>&gt;登录&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/login.wxss</span></span><br><span class="line"><span class="regexp">.input&#123;</span></span><br><span class="line"><span class="regexp">  border: 1px solid gainsboro;</span></span><br><span class="line"><span class="regexp">  margin: 20rpx;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/login.js</span></span><br><span class="line"><span class="regexp">Page(&#123;</span></span><br><span class="line"><span class="regexp">  data:&#123;</span></span><br><span class="line"><span class="regexp">    zhanghao: "",</span></span><br><span class="line"><span class="regexp">    mima: ""</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 获取输入的账号</span></span><br><span class="line"><span class="regexp">  getZhangHao(event)&#123;</span></span><br><span class="line"><span class="regexp">    this.setData(&#123;</span></span><br><span class="line"><span class="regexp">      zhanghao: event.detail.value</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 获取输入的密码</span></span><br><span class="line"><span class="regexp">  getMiMa(event) &#123;</span></span><br><span class="line"><span class="regexp">    this.setData(&#123;</span></span><br><span class="line"><span class="regexp">      mima: event.detail.value</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 点击登录</span></span><br><span class="line"><span class="regexp">  login() &#123;</span></span><br><span class="line"><span class="regexp">    let zhanghao = this.data.zhanghao</span></span><br><span class="line"><span class="regexp">    let mima = this.data.mima</span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 校验</span></span><br><span class="line"><span class="regexp">    if (zhanghao.length &lt; 4)&#123;</span></span><br><span class="line"><span class="regexp">      wx.showToast(&#123;</span></span><br><span class="line"><span class="regexp">        title: '账号不能小于4位',</span></span><br><span class="line"><span class="regexp">        icon: 'none'</span></span><br><span class="line"><span class="regexp">      &#125;)</span></span><br><span class="line"><span class="regexp">      return</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">    if (mima.length &lt; 4) &#123;</span></span><br><span class="line"><span class="regexp">      wx.showToast(&#123;</span></span><br><span class="line"><span class="regexp">        title: '密码不能小于4位',</span></span><br><span class="line"><span class="regexp">        icon: 'none'</span></span><br><span class="line"><span class="regexp">      &#125;)</span></span><br><span class="line"><span class="regexp">      return</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    /</span><span class="regexp">/ 登录</span></span><br><span class="line"><span class="regexp">    wx.cloud.database().collection("user")</span></span><br><span class="line"><span class="regexp">    .where(&#123;</span></span><br><span class="line"><span class="regexp">      zhanghao: zhanghao,</span></span><br><span class="line"><span class="regexp">      /</span><span class="regexp">/ mima: mima</span></span><br><span class="line"><span class="regexp">    &#125;)</span></span><br><span class="line"><span class="regexp">    .get(&#123;</span></span><br><span class="line"><span class="regexp">      success(res)&#123;</span></span><br><span class="line"><span class="regexp">        console.log("获取数据成功",res.data)</span></span><br><span class="line"><span class="regexp">        let user = res.data[0]</span></span><br><span class="line"><span class="regexp">        if(mima  == user.mima)&#123;</span></span><br><span class="line"><span class="regexp">          wx.showToast(&#123;</span></span><br><span class="line"><span class="regexp">            title: '登录成功',</span></span><br><span class="line"><span class="regexp">          &#125;)</span></span><br><span class="line"><span class="regexp">          wx.navigateTo(&#123;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ url: '/</span>pages/home/home<span class="string">', 都可以</span></span><br><span class="line"><span class="string">            url: '</span>../home/home?name=<span class="string">' + user.name,</span></span><br><span class="line"><span class="string">          &#125;)</span></span><br><span class="line"><span class="string">        &#125;else&#123;</span></span><br><span class="line"><span class="string">          wx.showToast(&#123;</span></span><br><span class="line"><span class="string">            title: '</span>账号或密码不正确<span class="string">',</span></span><br><span class="line"><span class="string">            icon: '</span>none<span class="string">'</span></span><br><span class="line"><span class="string">          &#125;)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      fail(res)&#123;</span></span><br><span class="line"><span class="string">        console.log("获取数据成功", res)</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h3 id="3-首页—home"><a href="#3-首页—home" class="headerlink" title="(3) 首页—home"></a>(3) 首页—home</h3><ol>
<li><p>接受登录页面传递过来的值—onload</p>
</li>
<li><p>显示到页面上面–</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//home.wxml</span></span><br><span class="line">&lt;text&gt;&#123;&#123;name&#125;&#125;，欢迎使用CodeMao开发的小程序&lt;<span class="regexp">/text&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/home.js</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/ pages/</span>home/home.js</span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    name: <span class="string">''</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  onLoad: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(options.name)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      name: options.name</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="4-个人中心页"><a href="#4-个人中心页" class="headerlink" title="(4) 个人中心页"></a>(4) 个人中心页</h3><ol>
<li><p>设置top文字—“navigationBarTitleText”: “个人中心”</p>
</li>
<li><p>两种显示状态—onshow—wx:if</p>
<ul>
<li>登录时候的展示内容</li>
<li>未登录时候的展示内容</li>
</ul>
</li>
<li><p>设置登录缓存—wx.setStorageSync(‘user’, user)</p>
<ul>
<li>修改登录页面跳转到个人中心页面</li>
<li>添加缓存</li>
</ul>
</li>
<li><p>增添退出功能</p>
<ul>
<li>删除缓存—wx.getStorageSync(‘user’,null)</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//me.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"usingComponents"</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">"navigationBarTitleText"</span>: <span class="string">"个人中心"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//me.wxml</span></span><br><span class="line">&lt;!-- 未登录状态 --&gt;</span><br><span class="line">&lt;view wx:<span class="keyword">if</span>=<span class="string">"&#123;&#123;!loginOk&#125;&#125;"</span>&gt;</span><br><span class="line">&lt;button type=<span class="string">"primary"</span> bindtap=<span class="string">"denglu"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"zhuce"</span>&gt;登录&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;button type="primary" bindtap="zhuce" class="zhuce"&gt;注册&lt;/</span>button&gt;</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!-- 登录成功 --&gt;</span></span><br><span class="line"><span class="regexp">&lt;view wx:else class="login-ok"&gt;</span></span><br><span class="line"><span class="regexp">  &lt;text&gt;登录成功&lt;/</span>text&gt;</span><br><span class="line">  &lt;view&gt;<span class="xml"><span class="tag">&lt;<span class="name">text</span>&gt;</span>&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span>&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">  &lt;button bindtap="tuichu" type="primary"&gt;退出&lt;/</span>button&gt;</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/me.wxss</span></span><br><span class="line"><span class="regexp">.zhuce&#123;</span></span><br><span class="line"><span class="regexp">  margin-top: 50rpx;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">.login-ok&#123;</span></span><br><span class="line"><span class="regexp">  text-align: center</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/me.js</span></span><br><span class="line"><span class="regexp">Page(&#123;</span></span><br><span class="line"><span class="regexp">  data:&#123;</span></span><br><span class="line"><span class="regexp">    loginOk: false</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  /</span><span class="regexp">/ 去登录页</span></span><br><span class="line"><span class="regexp">  denglu()&#123;</span></span><br><span class="line"><span class="regexp">    wx.navigateTo(&#123;</span></span><br><span class="line"><span class="regexp">      url: '/</span>pages/login/login<span class="string">',</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  // 去注册页</span></span><br><span class="line"><span class="string">  zhuce()&#123;</span></span><br><span class="line"><span class="string">    wx.navigateTo(&#123;</span></span><br><span class="line"><span class="string">      url: '</span>/pages/index/index<span class="string">',</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  onShow()&#123;</span></span><br><span class="line"><span class="string">    let user = wx.getStorageSync('</span>user<span class="string">')</span></span><br><span class="line"><span class="string">    if (user &amp;&amp; user.name)&#123;</span></span><br><span class="line"><span class="string">      this.setData(&#123;</span></span><br><span class="line"><span class="string">        loginOk: true,</span></span><br><span class="line"><span class="string">        name: user.name</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    &#125;else &#123;</span></span><br><span class="line"><span class="string">      this.setData(&#123;</span></span><br><span class="line"><span class="string">        loginOk: false</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  // 退出登录</span></span><br><span class="line"><span class="string">  tuichu()&#123;</span></span><br><span class="line"><span class="string">    wx.setStorageSync('</span>user<span class="string">', null)</span></span><br><span class="line"><span class="string">    let user = wx.getStorageSync('</span>user<span class="string">')</span></span><br><span class="line"><span class="string">    if (user &amp;&amp; user.name) &#123;</span></span><br><span class="line"><span class="string">      this.setData(&#123;</span></span><br><span class="line"><span class="string">        loginOk: true,</span></span><br><span class="line"><span class="string">        name: user.name</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    &#125; else &#123;</span></span><br><span class="line"><span class="string">      this.setData(&#123;</span></span><br><span class="line"><span class="string">        loginOk: false</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//login.js</span></span><br><span class="line"><span class="string">// 登录</span></span><br><span class="line"><span class="string">    wx.cloud.database().collection("user")</span></span><br><span class="line"><span class="string">      .where(&#123;</span></span><br><span class="line"><span class="string">        zhanghao: zhanghao,</span></span><br><span class="line"><span class="string">        // mima: mima</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">      .get(&#123;</span></span><br><span class="line"><span class="string">      success(res) &#123;</span></span><br><span class="line"><span class="string">        console.log("获取数据成功", res.data)</span></span><br><span class="line"><span class="string">        let user = res.data[0]</span></span><br><span class="line"><span class="string">        if (mima == user.mima) &#123;</span></span><br><span class="line"><span class="string">          wx.showToast(&#123;</span></span><br><span class="line"><span class="string">            title: '</span>登录成功<span class="string">',</span></span><br><span class="line"><span class="string">          &#125;)</span></span><br><span class="line"><span class="string">          wx.navigateTo(&#123;</span></span><br><span class="line"><span class="string">            // url: '</span>/pages/home/home<span class="string">', 都可以</span></span><br><span class="line"><span class="string">            // url: '</span>../home/home?name=<span class="string">' + user.name,</span></span><br><span class="line"><span class="string">            url: '</span>/pages/me/me<span class="string">'</span></span><br><span class="line"><span class="string">          &#125;)</span></span><br><span class="line"><span class="string">          // 保存用户登录状态---本地存储</span></span><br><span class="line"><span class="string">          wx.setStorageSync('</span>user<span class="string">', user)</span></span><br><span class="line"><span class="string">        &#125; else &#123;</span></span><br><span class="line"><span class="string">          wx.showToast(&#123;</span></span><br><span class="line"><span class="string">            title: '</span>账号或密码不正确<span class="string">',</span></span><br><span class="line"><span class="string">            icon: '</span>none<span class="string">'</span></span><br><span class="line"><span class="string">          &#125;)</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">      &#125;,</span></span><br><span class="line"><span class="string">      fail(res) &#123;</span></span><br><span class="line"><span class="string">        console.log("获取数据成功", res)</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br></pre></td></tr></table></figure>











</li>
</ol>
<h3 id="9-小程序上传内容-gt-2M"><a href="#9-小程序上传内容-gt-2M" class="headerlink" title="(9)小程序上传内容&gt;2M"></a>(9)小程序上传内容&gt;2M</h3><ol>
<li>解决方法一：<ol>
<li>分包，但是总包不能大于16M</li>
<li>或者用后台数据库图片</li>
</ol>
</li>
<li>解决方法二：<ol>
<li>压缩图片</li>
</ol>
</li>
</ol>
<h3 id="10-根据时间，小于等于3小时记单量为1，否则加1"><a href="#10-根据时间，小于等于3小时记单量为1，否则加1" class="headerlink" title="(10) 根据时间，小于等于3小时记单量为1，否则加1"></a>(10) 根据时间，小于等于3小时记单量为1，否则加1</h3><ul>
<li><p>计算出小时差和分钟差</p>
</li>
<li><p>先写特殊情况</p>
<ul>
<li>小时差&lt;0</li>
<li>小时差=0的时候<ul>
<li>分钟差&lt;=0</li>
<li>分钟差&gt;0</li>
</ul>
</li>
</ul>
</li>
<li><p>在按照分钟分</p>
<ul>
<li>如果分钟差==0</li>
<li>如果分钟差&gt;0</li>
<li>如果分钟差&lt;0</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 计算记单量</span></span><br><span class="line">  getJiDanLiang()&#123;</span><br><span class="line">    <span class="keyword">let</span> endtime = <span class="keyword">this</span>.data.endtime</span><br><span class="line">    <span class="keyword">let</span> arrivetime = <span class="keyword">this</span>.data.arrivetime</span><br><span class="line">    <span class="comment">// 结束时间</span></span><br><span class="line">    <span class="keyword">let</span> endhm = endtime.split(<span class="string">":"</span>)</span><br><span class="line">    <span class="comment">// 结束的小时</span></span><br><span class="line">    <span class="keyword">let</span> endh = <span class="built_in">parseInt</span>(endhm[<span class="number">0</span>])</span><br><span class="line">    <span class="comment">// 结束的分钟</span></span><br><span class="line">    <span class="keyword">let</span> endm = <span class="built_in">parseInt</span>(endhm[<span class="number">1</span>])</span><br><span class="line">    <span class="comment">// 到场时间</span></span><br><span class="line">    <span class="keyword">let</span> arrivehm = arrivetime.split(<span class="string">":"</span>)</span><br><span class="line">    <span class="comment">// 到场时间小时</span></span><br><span class="line">    <span class="keyword">let</span> arriveh = <span class="built_in">parseInt</span>(arrivehm[<span class="number">0</span>]) </span><br><span class="line">    <span class="comment">// 到场时间分</span></span><br><span class="line">    <span class="keyword">let</span> arrivem = <span class="built_in">parseInt</span>(arrivehm[<span class="number">1</span>])</span><br><span class="line">    <span class="comment">// 相差的小时数</span></span><br><span class="line">    <span class="keyword">let</span> hourcha =  endh - arriveh</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hourcha"</span>, hourcha)</span><br><span class="line">    <span class="comment">// 相差的分钟数</span></span><br><span class="line">    <span class="keyword">let</span> minutecha = endm - arrivem</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算计单量</span></span><br><span class="line">    <span class="keyword">let</span> jidanliang = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (hourcha &lt; <span class="number">0</span>)&#123;</span><br><span class="line">      jidanliang = <span class="number">0</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (hourcha == <span class="number">0</span> &amp;&amp; minutecha &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">      jidanliang = <span class="number">0</span></span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (hourcha == <span class="number">0</span> &amp;&amp; minutecha &gt; <span class="number">0</span>)&#123;</span><br><span class="line">      jidanliang = <span class="number">1</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="comment">// 此时校验的是小时差 &gt; 0</span></span><br><span class="line">      <span class="comment">// 当分钟差 == 0的时候</span></span><br><span class="line">      <span class="keyword">if</span> (minutecha == <span class="number">0</span>)&#123;</span><br><span class="line">        jidanliang = <span class="built_in">Math</span>.ceil(hourcha / <span class="number">3</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 当分钟差 &gt; 0</span></span><br><span class="line">      <span class="keyword">if</span> (minutecha &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (hourcha % <span class="number">3</span> == <span class="number">0</span>)&#123;</span><br><span class="line">          jidanliang = <span class="built_in">Math</span>.ceil(hourcha / <span class="number">3</span>) + <span class="number">1</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          jidanliang = <span class="built_in">Math</span>.ceil(hourcha / <span class="number">3</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 当分钟差 &lt; 0</span></span><br><span class="line">      <span class="keyword">if</span> (minutecha &lt; <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (hourcha == <span class="number">3</span>)&#123;</span><br><span class="line">          jidanliang = <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        jidanliang = <span class="built_in">Math</span>.ceil(hourcha / <span class="number">3</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      jidanliang: jidanliang</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"getjidanliang==&gt;"</span> + jidanliang)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h3 id="11-input只能输入数字"><a href="#11-input只能输入数字" class="headerlink" title="(11) input只能输入数字"></a>(11) input只能输入数字</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 发票金额</span></span><br><span class="line">  getFaPiaoJinE(e)&#123;</span><br><span class="line">    <span class="comment">//发票金额 要做验证只能输入数字</span></span><br><span class="line">    <span class="keyword">var</span> regNum = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'[0-9]'</span>, <span class="string">'g'</span>);</span><br><span class="line">    <span class="keyword">var</span> rsNum = regNum.exec(e.detail.value);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!rsNum) &#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        wx.showToast(&#123;</span><br><span class="line">          title: <span class="string">'只能输入数字'</span>,</span><br><span class="line">          icon: <span class="string">'none'</span></span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      &#125;, <span class="number">1000</span>);</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>





<h3 id="12-查询数据的时候排序"><a href="#12-查询数据的时候排序" class="headerlink" title="(12)  查询数据的时候排序"></a>(12)  查询数据的时候排序</h3><ol>
<li><p>orderBy</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">wx.cloud.database().collection(event.name).orderBy(<span class="string">'index'</span>,<span class="string">'asc'</span>).get(&#123;</span><br><span class="line">    success(res) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"排序成功"</span>, res)</span><br><span class="line">    &#125;,</span><br><span class="line">    fail(res) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"排序失败"</span>, res)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>





</li>
</ol>
<h1 id="二、实战项目—demo"><a href="#二、实战项目—demo" class="headerlink" title="二、实战项目—demo"></a>二、实战项目—demo</h1><h2 id="1、-input-和-textarea"><a href="#1、-input-和-textarea" class="headerlink" title="1、 input 和 textarea"></a>1、 input 和 textarea</h2><ol>
<li>input就是当行输入框</li>
<li>textarea就是多行输入框</li>
</ol>
<h2 id="2、-页面跳转传参"><a href="#2、-页面跳转传参" class="headerlink" title="2、 页面跳转传参"></a>2、 页面跳转传参</h2><ol>
<li><p>传递前的页面用json转换成字符串：JSON.stringify(e.detail.value)</p>
</li>
<li><p>传递后的页面用json格式接受： let params = JSON.parse(e.obj)</p>
</li>
<li><p>参考文献：<a href="https://www.cnblogs.com/helena000/p/11499043.html" target="_blank" rel="noopener">https://www.cnblogs.com/helena000/p/11499043.html</a></p>
</li>
<li><p>案例</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 传参数页面</span></span><br><span class="line"><span class="comment">// 提交</span></span><br><span class="line">  submit(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"submit==&gt;"</span>, e.detail.value)</span><br><span class="line">    <span class="keyword">let</span> condition = e.detail.value</span><br><span class="line">    wx.navigateTo(&#123;</span><br><span class="line">      url: <span class="string">'/pages/queryCondition/queryCondition?obj='</span> + <span class="built_in">JSON</span>.stringify(e.detail.value),</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接受参数页面</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  onLoad(e)&#123;</span><br><span class="line">    <span class="keyword">let</span> params = <span class="built_in">JSON</span>.parse(e.obj)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"onLoad"</span>, params.username)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="3、-重置页面的方法"><a href="#3、-重置页面的方法" class="headerlink" title="3、 重置页面的方法"></a>3、 重置页面的方法</h2><ol>
<li><p>方法一：重置数据</p>
</li>
<li><p>方法二：this.onLoad()</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// wxml</span></span><br><span class="line">&lt;form bindreset=<span class="string">"reset"</span>&gt;</span><br><span class="line">	&lt;button type=<span class="string">"primary"</span> form-type=<span class="string">"reset"</span>&gt;重置&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>form&gt;    </span><br><span class="line"></span><br><span class="line"><span class="comment">// 重置数据</span></span><br><span class="line">  reset(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"reset==&gt;"</span>, e)</span><br><span class="line">    <span class="keyword">this</span>.onLoad()</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="4、-data-的用法"><a href="#4、-data-的用法" class="headerlink" title="4、 data-的用法"></a>4、 data-的用法</h2><ol>
<li><p>作用：传递前台页面的值，一般有bindtap连用</p>
</li>
<li><p>data-后面的东西不区分大小写，接受到的<strong>名称一律小写</strong></p>
</li>
<li><p>案例</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//index.wxml</span></span><br><span class="line">&lt;view bindtap=<span class="string">"getData"</span> data-id=<span class="string">"123"</span>&gt;</span><br><span class="line">  点我获取data</span><br><span class="line">&lt;<span class="regexp">/view&gt;</span></span><br><span class="line"><span class="regexp">&lt;view&gt;&#123;&#123;id&#125;&#125;&lt;/</span>view&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    id: <span class="string">""</span></span><br><span class="line">  &#125;,</span><br><span class="line">  getData(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"getData==&gt;"</span>, e.currentTarget.dataset)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      id: e.currentTarget.dataset.id</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="5、-form的用法"><a href="#5、-form的用法" class="headerlink" title="5、 form的用法"></a>5、 form的用法</h2><ol>
<li><p>bindsumit</p>
</li>
<li><p>bindreset</p>
</li>
<li><p><strong>通过name获取value的值</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.wxml</span></span><br><span class="line">&lt;form bindsubmit=<span class="string">"submit"</span> bindreset=<span class="string">"reset"</span>&gt;</span><br><span class="line">  &lt;input name=<span class="string">"input"</span> value=<span class="string">"&#123;&#123;input&#125;&#125;"</span>&gt;&lt;<span class="regexp">/input&gt;</span></span><br><span class="line"><span class="regexp">  &lt;button form-type="submit" type="primary"&gt;submit&lt;/</span>button&gt;</span><br><span class="line">  &lt;button form-type=<span class="string">"reset"</span> type=<span class="string">"primary"</span>&gt;reset&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>form&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  data:&#123;</span><br><span class="line">    input: <span class="string">"input"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  submit(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"submit==&gt;"</span>, e)</span><br><span class="line">  &#125;,</span><br><span class="line">  reset(e)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"reset==&gt;"</span>, e)</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      input: <span class="string">""</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="6、-手机号正则—2020"><a href="#6、-手机号正则—2020" class="headerlink" title="6、 手机号正则—2020"></a>6、 手机号正则—2020</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 校验手机号</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>.test(phone)) &#123;</span><br><span class="line">    wx.showToast(&#123;</span><br><span class="line">        title: <span class="string">'请输入正确的手机格式'</span>,</span><br><span class="line">        icon: <span class="string">'none'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7、picker的用法"><a href="#7、picker的用法" class="headerlink" title="7、picker的用法"></a>7、picker的用法</h2><ol>
<li>种类（mode=””）<ul>
<li>单列：selector</li>
<li>多列：multiSelector</li>
<li>时间：time</li>
<li>日期：date</li>
<li>省市区：region</li>
</ul>
</li>
<li>案例<ul>
<li><a href="https://developers.weixin.qq.com/miniprogram/dev/component/picker.html" target="_blank" rel="noopener">参考官方文档</a></li>
</ul>
</li>
</ol>
<h2 id="8、-页面手机屏幕"><a href="#8、-页面手机屏幕" class="headerlink" title="8、 页面手机屏幕"></a>8、 页面手机屏幕</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">app.wxss</span><br><span class="line">page&#123;</span><br><span class="line">  height:100%</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;每一个页面的大容器--防止有超出部分</span><br><span class="line">min-height:100%</span><br></pre></td></tr></table></figure>

<h2 id="9、-校验表单中数据是否填写完整"><a href="#9、-校验表单中数据是否填写完整" class="headerlink" title="9、 校验表单中数据是否填写完整"></a>9、 校验表单中数据是否填写完整</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> item <span class="keyword">in</span> form) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!form[item]) &#123; <span class="comment">//验证form表单是否填写完整</span></span><br><span class="line">        wx.showToast(&#123;</span><br><span class="line">            title: <span class="string">'请将信息填写完整'</span>,</span><br><span class="line">            icon: <span class="string">'none'</span>,</span><br><span class="line">            duration: <span class="number">1000</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="10、-单选按钮—test"><a href="#10、-单选按钮—test" class="headerlink" title="10、 单选按钮—test"></a>10、 单选按钮—test</h2><ol>
<li>radio-group</li>
<li>radio</li>
</ol>
<h2 id="11、-input-文字显示一半"><a href="#11、-input-文字显示一半" class="headerlink" title="11、 input 文字显示一半"></a>11、 input 文字显示一半</h2><ol>
<li><p>input中添加一个view</p>
</li>
<li><p>设置input宽高都是100%</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;&#x2F;add.wxml</span><br><span class="line"> &lt;view class&#x3D;&quot;item&quot;&gt;</span><br><span class="line">    &lt;label class&#x3D;&quot;item_1&quot;&gt;散客提成&lt;&#x2F;label&gt;:</span><br><span class="line">    &lt;view class&#x3D;&quot;item_2&quot;&gt;</span><br><span class="line">      &lt;input name&#x3D;&quot;ticheng&quot; placeholder&#x3D;&quot;按照提成公式填写&quot;&gt;&lt;&#x2F;input&gt;</span><br><span class="line">    &lt;&#x2F;view&gt;</span><br><span class="line">  &lt;&#x2F;view&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;add.wxss</span><br><span class="line">.item_2 &#123;</span><br><span class="line">  flex: 8;</span><br><span class="line">  padding: 10rpx;</span><br><span class="line">&#125;</span><br><span class="line">.item_2 input&#123;</span><br><span class="line">  height: 100%;</span><br><span class="line">  width: 100%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




</li>
</ol>
<h2 id="12、-下拉触底函数不触发"><a href="#12、-下拉触底函数不触发" class="headerlink" title="12、 下拉触底函数不触发"></a>12、 下拉触底函数不触发</h2><ol>
<li><p>将页面的height不要设成100%</p>
</li>
<li><p>在该页面的json中增加下拉距离单位像素</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">"onReachBottomDistance": 100</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h2 id="13、-开发时注意"><a href="#13、-开发时注意" class="headerlink" title="13、 开发时注意"></a>13、 开发时注意</h2><ol>
<li>云开发对数据进行<strong>增删改查的时候，最好都用云函数</strong>，但是上线20个，那<strong>删除和修改一定要用云函数</strong>，否则数据库的权限即使你在你这修改了，但是上线之后还是没有权限的。</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>小程序---如何上传代码？</title>
    <url>/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="小程序—如何上传代码？"><a href="#小程序—如何上传代码？" class="headerlink" title="小程序—如何上传代码？"></a>小程序—如何上传代码？</h1><h2 id="一、前提-结果"><a href="#一、前提-结果" class="headerlink" title="一、前提+结果"></a>一、前提+结果</h2><h3 id="1、前提"><a href="#1、前提" class="headerlink" title="1、前提"></a>1、前提</h3><ul>
<li>已经写好的代码，准备上传代码玩玩的</li>
<li>我用的云开发写的小程序，没有JAVA等语言写服务器后台</li>
</ul>
<h3 id="2、结果"><a href="#2、结果" class="headerlink" title="2、结果"></a>2、结果</h3><ul>
<li>通过扫描二维码可以找到自己的小程序</li>
</ul>
<h2 id="二、具体流程"><a href="#二、具体流程" class="headerlink" title="二、具体流程"></a>二、具体流程</h2><h3 id="1、-材料准备"><a href="#1、-材料准备" class="headerlink" title="1、 材料准备"></a>1、 材料准备</h3><ul>
<li>先把自己的小程序运行的时候截屏</li>
<li>在录视一个小程序运行时候的视频大概1-2分钟</li>
</ul>
<h3 id="2、上传代码"><a href="#2、上传代码" class="headerlink" title="2、上传代码"></a>2、上传代码</h3><ul>
<li><p>点击微信开发者工具的上传</p>
</li>
<li><p>填写版本号和项目描述即可</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image01.png" alt></p>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image02.png" alt></p>
</li>
</ul>
<h3 id="3、-微信公众平台"><a href="#3、-微信公众平台" class="headerlink" title="3、 微信公众平台"></a>3、 微信公众平台</h3><ul>
<li><p>登录微信公众平台</p>
</li>
<li><p>版本管理==》提交审核</p>
<ul>
<li><p>所需的材料：小程序的截图+视频录制</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image03.png" alt></p>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image04.png" alt></p>
</li>
</ul>
</li>
<li><p>上传</p>
<ul>
<li><p>等审核结束后一定要来微信公众平台上传</p>
</li>
<li><p>全量发布和灰度发布</p>
<ul>
<li>全量发布：所有用户同步更新</li>
<li>灰度发布：所有用户分时段更新，当功能很多的时候，有利于降低承受风险</li>
</ul>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image05.png" alt></p>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image07.png" alt></p>
</li>
</ul>
</li>
<li><p>生成小程序入口二维码</p>
<ul>
<li>位置：微信公众平台</li>
</ul>
<p><img src= "/img/loading.gif" data-src="/2020/08/26/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E4%B8%8A%E4%BC%A0%E4%BB%A3%E7%A0%81%EF%BC%9F/image06.png" alt></p>
</li>
</ul>
<h2 id="三、干就完事了！"><a href="#三、干就完事了！" class="headerlink" title="三、干就完事了！"></a>三、干就完事了！</h2>]]></content>
  </entry>
  <entry>
    <title>小程序---如何更换开发者appid？</title>
    <url>/2020/08/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E6%9B%B4%E6%8D%A2%E5%BC%80%E5%8F%91%E8%80%85appid%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="如何给小程序更换开发者或appid？"><a href="#如何给小程序更换开发者或appid？" class="headerlink" title="如何给小程序更换开发者或appid？"></a>如何给小程序更换开发者或appid？</h1><h2 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h2><h3 id="1、有两个appid即可"><a href="#1、有两个appid即可" class="headerlink" title="1、有两个appid即可"></a>1、有两个appid即可</h3><h3 id="2、适用情况"><a href="#2、适用情况" class="headerlink" title="2、适用情况"></a>2、适用情况</h3><ol>
<li>如果用到了云开发，则执行具体流程的全部流程</li>
<li>如果没有用到云开发，只需要更改具体流程的<strong>前两步骤</strong></li>
</ol>
<h2 id="二、具体流程"><a href="#二、具体流程" class="headerlink" title="二、具体流程"></a>二、具体流程</h2><h3 id="1、备份文件"><a href="#1、备份文件" class="headerlink" title="1、备份文件"></a>1、备份文件</h3><ul>
<li>将云数据库导出</li>
<li>将项目代码备份（以防万一）</li>
<li>如果没有可以不用操作</li>
</ul>
<h3 id="2、更改appid"><a href="#2、更改appid" class="headerlink" title="2、更改appid"></a>2、更改appid</h3><ul>
<li><p>位置：project.config.json</p>
</li>
<li><p>appid：“改成要修改的appid”</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E6%9B%B4%E6%8D%A2%E5%BC%80%E5%8F%91%E8%80%85appid%EF%BC%9F/image01.png" alt></p>
</li>
</ul>
<h3 id="3、修改环境变量"><a href="#3、修改环境变量" class="headerlink" title="3、修改环境变量"></a>3、修改环境变量</h3><ul>
<li><p>更改app.js</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E6%9B%B4%E6%8D%A2%E5%BC%80%E5%8F%91%E8%80%85appid%EF%BC%9F/image02.png" alt></p>
</li>
<li><p>更改云函数的环境变量</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E6%9B%B4%E6%8D%A2%E5%BC%80%E5%8F%91%E8%80%85appid%EF%BC%9F/image03.png" alt></p>
</li>
</ul>
<h3 id="4、重新上传云函数"><a href="#4、重新上传云函数" class="headerlink" title="4、重新上传云函数"></a>4、重新上传云函数</h3><ul>
<li><p>上传项目所需要的云函数</p>
</li>
<li><p>点击云函数右键选择”上传并部署…不上传node…”</p>
<p><img src= "/img/loading.gif" data-src="/2020/08/24/%E5%B0%8F%E7%A8%8B%E5%BA%8F---%E5%A6%82%E4%BD%95%E6%9B%B4%E6%8D%A2%E5%BC%80%E5%8F%91%E8%80%85appid%EF%BC%9F/image04.png" alt></p>
</li>
</ul>
<h2 id="三、踩过的坑"><a href="#三、踩过的坑" class="headerlink" title="三、踩过的坑"></a>三、踩过的坑</h2><h3 id="1、明明改了云函数环境，还报环境id配置错误"><a href="#1、明明改了云函数环境，还报环境id配置错误" class="headerlink" title="1、明明改了云函数环境，还报环境id配置错误"></a>1、明明改了云函数环境，还报环境id配置错误</h3><ul>
<li>相信我，你肯定没有全部上传云函数，在重新上传并部署一下！</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>快捷键</title>
    <url>/2020/07/30/%E5%BF%AB%E6%8D%B7%E9%94%AE/</url>
    <content><![CDATA[<h1 id="一、IDEA"><a href="#一、IDEA" class="headerlink" title="一、IDEA"></a>一、IDEA</h1><h2 id="1-选择相同变量名—Shift-F6"><a href="#1-选择相同变量名—Shift-F6" class="headerlink" title="1. 选择相同变量名—Shift+F6"></a>1. 选择相同变量名—Shift+F6</h2><h2 id="2-导包—Shift-Ait-Enter"><a href="#2-导包—Shift-Ait-Enter" class="headerlink" title="2. 导包—Shift+Ait+Enter"></a>2. 导包—Shift+Ait+Enter</h2><h2 id="3-运行当前代码—Ctrl-Shift-F10"><a href="#3-运行当前代码—Ctrl-Shift-F10" class="headerlink" title="3. 运行当前代码—Ctrl+Shift+F10"></a>3. 运行当前代码—Ctrl+Shift+F10</h2><h2 id="4-进入控制台—F12"><a href="#4-进入控制台—F12" class="headerlink" title="4. 进入控制台—F12"></a>4. 进入控制台—F12</h2><h2 id="5-格式化代码—Ctrl-Alt-L"><a href="#5-格式化代码—Ctrl-Alt-L" class="headerlink" title="5. 格式化代码—Ctrl+Alt+L"></a>5. 格式化代码—Ctrl+Alt+L</h2><h2 id="6-GetSet快捷键—Alt-Insert"><a href="#6-GetSet快捷键—Alt-Insert" class="headerlink" title="6. GetSet快捷键—Alt+Insert"></a>6. GetSet快捷键—Alt+Insert</h2><h1 id="二、全局快捷键"><a href="#二、全局快捷键" class="headerlink" title="二、全局快捷键"></a>二、全局快捷键</h1><h2 id="1-关闭对话框—Alt-F4"><a href="#1-关闭对话框—Alt-F4" class="headerlink" title="1. 关闭对话框—Alt+F4"></a>1. 关闭对话框—Alt+F4</h2>]]></content>
  </entry>
  <entry>
    <title>我的第一篇博客文章</title>
    <url>/2020/07/25/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/</url>
    <content><![CDATA[<h2 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h2><p>内容</p>
<hr>
<h2 id="第二章"><a href="#第二章" class="headerlink" title="第二章"></a>第二章</h2><p>内容</p>
<hr>
<p>##参考文献</p>
<p><a href="http://www.codesheep.cn" target="_blank" rel="noopener">www.codesheep.cn</a></p>
]]></content>
  </entry>
  <entry>
    <title>算法---排序</title>
    <url>/2020/07/29/%E7%AE%97%E6%B3%95---%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<h1 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h1><h2 id="一-、冒泡排序"><a href="#一-、冒泡排序" class="headerlink" title="一 、冒泡排序"></a>一 、冒泡排序</h2><ol>
<li><p>思想</p>
<ul>
<li>数组中从头开始进行相邻两数依次比较，大的在后，小的在前</li>
<li>eg:arr={1,3,2}; 首先1和3比较，3大于1，继续；3和2比较，2小于3，交换</li>
<li>每次循环都会找到一个最大值，并且会放到最后</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>内循环，防止<strong>下标越界</strong></li>
<li><strong>优化代码</strong>：每次内循环都可以减少一次比较的次数，因为每次会出来一个最大值</li>
</ul>
</li>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.neuedu.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo_018</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            <span class="comment">// 注意j &lt; arr.length-1-i</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;arr.length-<span class="number">1</span>-i;j++)&#123;</span><br><span class="line">                <span class="comment">// 交换值</span></span><br><span class="line">                <span class="keyword">if</span>(arr[j] &gt; arr[j + <span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="keyword">int</span> tmp = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = tmp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//-这个也是遍历数组 等价于 for(int i=0;i&lt;arr.length;i++)&#123;&#125;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> e:arr) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="二、选择排序—升序"><a href="#二、选择排序—升序" class="headerlink" title="二、选择排序—升序"></a>二、选择排序—升序</h2><ol>
<li><p>思想</p>
<ul>
<li>定义一个最小值下标变量</li>
<li>外循环来控制找的次数==数组的长度</li>
<li>内循环来控制寻找当前数组中最小值的下标</li>
<li>每次循环找到当前数组范围的最小值下标之后依次放到数组的第一个位置，第二个位置等等</li>
</ul>
</li>
<li><p>注意</p>
<ul>
<li>内循环的j = i，因为每次已经吧最小的放到第一个吧，不用参与排序了</li>
</ul>
</li>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.neuedu.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo_018</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//-数组必须有序</span></span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            <span class="comment">//- 定义最小值的下标</span></span><br><span class="line">            <span class="keyword">int</span> min = i;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=i;j&lt;arr.length;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(arr[j] &lt; arr[min]) min = j;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 交换</span></span><br><span class="line">            <span class="keyword">int</span> tmp = arr[min];</span><br><span class="line">            arr[min] = arr[i];</span><br><span class="line">            arr[i] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//-这个也是遍历数组 等价于 for(int i=0;i&lt;arr.length;i++)&#123;&#125;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> e:arr) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>算法---查找</title>
    <url>/2020/07/29/%E7%AE%97%E6%B3%95---%E6%9F%A5%E6%89%BE/</url>
    <content><![CDATA[<h1 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h1><h2 id="一、顺序查找"><a href="#一、顺序查找" class="headerlink" title="一、顺序查找"></a>一、顺序查找</h2><ol>
<li><p>思想</p>
<ul>
<li>就是用查找的值和容器中的所有值，一个一个比较</li>
</ul>
</li>
<li><p>案例</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.neuedu.test;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo_018</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        Scanner scan = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> num = scan.nextInt();</span><br><span class="line">        <span class="comment">//判断是否有此数的标志</span></span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num == arr[i])&#123;</span><br><span class="line">                flag= <span class="keyword">true</span>;</span><br><span class="line">                System.out.println(<span class="string">"当前值对应的索引是："</span>+i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag)&#123;</span><br><span class="line">            System.out.println(<span class="string">"抱歉，查无此数"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="二、二分查找"><a href="#二、二分查找" class="headerlink" title="二、二分查找"></a>二、二分查找</h2><ol>
<li><p>前提</p>
<ul>
<li>数组必须是<strong>有序</strong>的</li>
</ul>
</li>
<li><p>思想</p>
<ul>
<li>定义最小值下标0，最大值下标（数组长度-1）来计算中间值下标（min+max）/2</li>
<li>将查找的值来和中间值比较，</li>
<li>如果大于中间值，则最小值下标=mid+1，再次计算中间值下标</li>
<li>如果小于中间值，则最大值的下标=mid-1,再次计算中间值下标</li>
<li>计算完中间值下标之后，再次循环2、3、4步骤，知道查找到值</li>
<li>如果没有值，则<strong>退出循环的条件是</strong>min&gt;max</li>
</ul>
</li>
<li><p>代码</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.neuedu.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo_018</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//-数组必须有序</span></span><br><span class="line">        <span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        Scanner scan = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">int</span> num = scan.nextInt();</span><br><span class="line">        <span class="comment">//判断是否有此数的标志</span></span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> min = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> max = arr.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = (max + min) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(min&lt;max)&#123;</span><br><span class="line">            <span class="keyword">if</span>(num &lt; arr[min])&#123;</span><br><span class="line">                max = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(num &gt; arr[min])&#123;</span><br><span class="line">                min = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            mid = (max + min) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span>(num == arr[min])&#123;</span><br><span class="line">                flag = <span class="keyword">true</span>;</span><br><span class="line">                System.out.println(<span class="string">"这个数的下标是："</span>+min);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">            System.out.println(<span class="string">"查无此数"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
]]></content>
  </entry>
</search>
